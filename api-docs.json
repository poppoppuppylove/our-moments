{"openapi":"3.0.1","info":{"title":"Our Moments API","description":"API for Hand-drawn Life Logger Application","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"paths":{"/api/users/{id}":{"get":{"tags":["user-controller"],"operationId":"getUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"put":{"tags":["user-controller"],"operationId":"updateUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"delete":{"tags":["user-controller"],"operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/posts/{id}":{"get":{"tags":["blog-post-controller"],"operationId":"getPost","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BlogPost"}}}}}},"put":{"tags":["blog-post-controller"],"operationId":"updatePost","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlogPost"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BlogPost"}}}}}},"delete":{"tags":["blog-post-controller"],"operationId":"deletePost","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/notifications/{id}/read":{"put":{"tags":["notification-controller"],"operationId":"markAsRead","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Notification"}}}}}}},"/api/notifications/read-all":{"put":{"tags":["notification-controller"],"operationId":"markAllAsRead","parameters":[{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/messages/read":{"put":{"tags":["message-controller"],"operationId":"markAsRead_1","parameters":[{"name":"senderId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/friendships/{friendshipId}/reject":{"put":{"tags":["friendship-controller"],"operationId":"rejectFriendRequest","parameters":[{"name":"friendshipId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Friendship"}}}}}}},"/api/friendships/{friendshipId}/accept":{"put":{"tags":["friendship-controller"],"operationId":"acceptFriendRequest","parameters":[{"name":"friendshipId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Friendship"}}}}}}},"/api/comments/{id}":{"put":{"tags":["comment-controller"],"operationId":"updateComment","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Comment"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Comment"}}}}}},"delete":{"tags":["comment-controller"],"operationId":"deleteComment","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/categories/{id}":{"get":{"tags":["category-controller"],"operationId":"getCategory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Category"}}}}}},"put":{"tags":["category-controller"],"operationId":"updateCategory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Category"}}}}}},"delete":{"tags":["category-controller"],"operationId":"deleteCategory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/users":{"post":{"tags":["user-controller"],"operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/tags":{"get":{"tags":["tag-controller"],"operationId":"getAllTags","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Tag"}}}}}}},"post":{"tags":["tag-controller"],"operationId":"createTag","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tag"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Tag"}}}}}}},"/api/posts":{"get":{"tags":["blog-post-controller"],"operationId":"getPosts","parameters":[{"name":"userId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"categoryId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BlogPost"}}}}}}},"post":{"tags":["blog-post-controller"],"operationId":"createPost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlogPost"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BlogPost"}}}}}}},"/api/messages/send":{"post":{"tags":["message-controller"],"operationId":"sendMessage","parameters":[{"name":"receiverId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"content","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Message"}}}}}}},"/api/friendships/request":{"post":{"tags":["friendship-controller"],"operationId":"sendFriendRequest","parameters":[{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"friendId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Friendship"}}}}}}},"/api/files/upload":{"post":{"tags":["file-controller"],"operationId":"upload","requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/files/upload/background":{"post":{"tags":["file-controller"],"operationId":"uploadBackground","requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/files/upload/avatar":{"post":{"tags":["file-controller"],"operationId":"uploadAvatar","requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/comments":{"post":{"tags":["comment-controller"],"operationId":"createComment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Comment"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Comment"}}}}}}},"/api/categories":{"get":{"tags":["category-controller"],"operationId":"getAllCategories","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}}}}},"post":{"tags":["category-controller"],"operationId":"createCategory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Category"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"createAuthenticationToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/users/username/{username}":{"get":{"tags":["user-controller"],"operationId":"getUserByUsername","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/tags/{id}":{"get":{"tags":["tag-controller"],"operationId":"getTag","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Tag"}}}}}},"delete":{"tags":["tag-controller"],"operationId":"deleteTag","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/notifications/user/{userId}":{"get":{"tags":["notification-controller"],"operationId":"getNotificationsByUserId","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Notification"}}}}}}}},"/api/notifications/unread-count/{userId}":{"get":{"tags":["notification-controller"],"operationId":"getUnreadCount","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int32"}}}}}}},"/api/messages/unread":{"get":{"tags":["message-controller"],"operationId":"getUnreadMessages","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Message"}}}}}}}},"/api/messages/history":{"get":{"tags":["message-controller"],"operationId":"getChatHistory","parameters":[{"name":"friendId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Message"}}}}}}}},"/api/friendships/user/{userId}":{"get":{"tags":["friendship-controller"],"operationId":"getFriendshipsByUserId","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Friendship"}}}}}}}},"/api/friendships/check":{"get":{"tags":["friendship-controller"],"operationId":"checkFriendship","parameters":[{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"friendId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/comments/post/{postId}":{"get":{"tags":["comment-controller"],"operationId":"getCommentsByPostId","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Comment"}}}}}}}},"/api/comments/post/{postId}/position/{position}":{"get":{"tags":["comment-controller"],"operationId":"getCommentsByPostIdAndPosition","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"position","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Comment"}}}}}}}},"/api/notifications/{id}":{"delete":{"tags":["notification-controller"],"operationId":"deleteNotification","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/messages/{messageId}":{"delete":{"tags":["message-controller"],"operationId":"deleteMessage","parameters":[{"name":"messageId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/friendships/user/{userId}/friend/{friendId}":{"delete":{"tags":["friendship-controller"],"operationId":"deleteFriendship","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"friendId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/files/delete":{"delete":{"tags":["file-controller"],"operationId":"deleteFile","parameters":[{"name":"url","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"User":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"username":{"type":"string"},"password":{"type":"string"},"nickname":{"type":"string"},"avatar":{"type":"string"},"bio":{"type":"string"},"email":{"type":"string"},"role":{"type":"string"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"}}},"BlogMedia":{"type":"object","properties":{"mediaId":{"type":"integer","format":"int64"},"postId":{"type":"integer","format":"int64"},"mediaUrl":{"type":"string"},"mediaType":{"type":"string"},"rotation":{"type":"integer","format":"int32"},"scale":{"type":"number"},"positionX":{"type":"integer","format":"int32"},"positionY":{"type":"integer","format":"int32"},"filterStyle":{"type":"string"},"sortOrder":{"type":"integer","format":"int32"},"createTime":{"type":"string","format":"date-time"},"zindex":{"type":"integer","format":"int32"}}},"BlogPost":{"type":"object","properties":{"postId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"categoryId":{"type":"integer","format":"int64"},"title":{"type":"string"},"content":{"type":"string"},"weather":{"type":"string"},"mood":{"type":"string"},"location":{"type":"string"},"status":{"type":"integer","format":"int32"},"visibility":{"type":"string"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"},"mediaList":{"type":"array","items":{"$ref":"#/components/schemas/BlogMedia"}},"tagList":{"type":"array","items":{"$ref":"#/components/schemas/Tag"}},"category":{"$ref":"#/components/schemas/Category"},"author":{"$ref":"#/components/schemas/User"}}},"Category":{"type":"object","properties":{"categoryId":{"type":"integer","format":"int64"},"name":{"type":"string"},"iconUrl":{"type":"string"},"sortOrder":{"type":"integer","format":"int32"},"createTime":{"type":"string","format":"date-time"}}},"Tag":{"type":"object","properties":{"tagId":{"type":"integer","format":"int64"},"name":{"type":"string"},"createTime":{"type":"string","format":"date-time"}}},"Notification":{"type":"object","properties":{"notificationId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"type":{"type":"string"},"content":{"type":"string"},"relatedId":{"type":"integer","format":"int64"},"isRead":{"type":"boolean"},"createTime":{"type":"string","format":"date-time"}}},"Friendship":{"type":"object","properties":{"friendshipId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"friendId":{"type":"integer","format":"int64"},"status":{"type":"string"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"}}},"Comment":{"type":"object","properties":{"commentId":{"type":"integer","format":"int64"},"postId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"content":{"type":"string"},"position":{"type":"integer","format":"int32"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"},"author":{"$ref":"#/components/schemas/User"}}},"Message":{"type":"object","properties":{"messageId":{"type":"integer","format":"int64"},"senderId":{"type":"integer","format":"int64"},"receiverId":{"type":"integer","format":"int64"},"content":{"type":"string"},"isRead":{"type":"boolean"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"}}},"AuthRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}}},"securitySchemes":{"bearerAuth":{"type":"http","name":"bearerAuth","scheme":"bearer","bearerFormat":"JWT"}}}}
